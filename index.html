<html lang="en">
  <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <script type="module">
      import { Clock } from './js/clock.mjs';


      let audioContext;

      let clock = new Clock({
        onTick: () => {
          console.log('onTick');
          const clockEl = document.getElementById('clock')
          clockEl.innerHTML = Math.floor(audioContext.currentTime);
        }
      });

      document.getElementById('clock-start-stop').addEventListener('click', function() {
        audioContext = new AudioContext();

        if (!clock.isRunning) {
          clock.start();
          audioContext.resume();
        } else {
          clock.stop();
        }
      });
    </script>
  </head>
  <body>
    <div class="container">
      <div class="box">1</div>
      <div class="box">2</div>
      <div class="box">3</div>
      <div class="box">4</div>
      <div class="box">5</div>
      <div class="box">6</div>
      <div class="box">7</div>
      <div class="box">8</div>
    </div>

    <div id="clock" class="box">0</div>

    <button id="clock-start-stop">Start / Stop</button>
  </body>
</html>
